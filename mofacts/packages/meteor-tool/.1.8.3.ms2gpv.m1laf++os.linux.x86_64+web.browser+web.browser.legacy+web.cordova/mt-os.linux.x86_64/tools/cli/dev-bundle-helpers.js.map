{"version":3,"sources":["/tools/cli/dev-bundle-helpers.js"],"names":["module","export","ensureDependencies","pathJoin","getDevBundle","link","v","installNpmModule","moduleDoesResolve","deps","needToInstall","Object","create","keys","forEach","dep","versionToInstall","devBundleLib"],"mappings":"AAAAA,MAAM,CAACC,MAAP,CAAc;AAACC,EAAAA,kBAAkB,EAAC,MAAIA;AAAxB,CAAd;AAA2D,IAAIC,QAAJ,EAAaC,YAAb;AAA0BJ,MAAM,CAACK,IAAP,CAAY,aAAZ,EAA0B;AAACF,EAAAA,QAAQ,CAACG,CAAD,EAAG;AAACH,IAAAA,QAAQ,GAACG,CAAT;AAAW,GAAxB;;AAAyBF,EAAAA,YAAY,CAACE,CAAD,EAAG;AAACF,IAAAA,YAAY,GAACE,CAAb;AAAe;;AAAxD,CAA1B,EAAoF,CAApF;AAAuF,IAAIC,gBAAJ,EAAqBC,iBAArB;AAAuCR,MAAM,CAACK,IAAP,CAAY,2BAAZ,EAAwC;AAACE,EAAAA,gBAAgB,CAACD,CAAD,EAAG;AAACC,IAAAA,gBAAgB,GAACD,CAAjB;AAAmB,GAAxC;;AAAyCE,EAAAA,iBAAiB,CAACF,CAAD,EAAG;AAACE,IAAAA,iBAAiB,GAACF,CAAlB;AAAoB;;AAAlF,CAAxC,EAA4H,CAA5H;;AAG5M,SAASJ,kBAAT,CAA4BO,IAA5B,EAAkC;AACvC;AACA;AACA,QAAMC,aAAa,GAAGC,MAAM,CAACC,MAAP,CAAc,IAAd,CAAtB;AACAD,EAAAA,MAAM,CAACE,IAAP,CAAYJ,IAAZ,EAAkBK,OAAlB,CAA0BC,GAAG,IAAI;AAC/B,QAAI,CAACP,iBAAiB,CAACO,GAAD,CAAtB,EAA6B;AAC3B,YAAMC,gBAAgB,GAAGP,IAAI,CAACM,GAAD,CAA7B;AACAL,MAAAA,aAAa,CAACK,GAAD,CAAb,GAAqBC,gBAArB;AACD;AACF,GALD;AAOA,QAAMC,YAAY,GAAGd,QAAQ,CAACC,YAAY,EAAb,EAAiB,KAAjB,CAA7B,CAXuC,CAavC;;AACAO,EAAAA,MAAM,CAACE,IAAP,CAAYH,aAAZ,EACGI,OADH,CACWC,GAAG,IAAIR,gBAAgB,CAACQ,GAAD,EAAML,aAAa,CAACK,GAAD,CAAnB,EAA0BE,YAA1B,CADlC;AAED","sourcesContent":["import { pathJoin, getDevBundle } from '../fs/files';\nimport { installNpmModule, moduleDoesResolve } from '../isobuild/meteor-npm.js';\n\nexport function ensureDependencies(deps) {\n  // Check if each of the requested dependencies resolves, if not\n  // mark them for installation.\n  const needToInstall = Object.create(null);\n  Object.keys(deps).forEach(dep => {\n    if (!moduleDoesResolve(dep)) {\n      const versionToInstall = deps[dep];\n      needToInstall[dep] = versionToInstall;\n    }\n  });\n\n  const devBundleLib = pathJoin(getDevBundle(), 'lib');\n\n  // Install each of the requested modules.\n  Object.keys(needToInstall)\n    .forEach(dep => installNpmModule(dep, needToInstall[dep], devBundleLib));\n}\n"],"file":"tools/cli/dev-bundle-helpers.js.map"}