{
    "tutor": {
        "setspec": {
            "name": "Internal Testing",
            "lessonname": "Testing Tdf",
            "userselect": "true",
            "experimentTarget": "test",
            "stimulusfile": "testStim.json",
            "isModeled": "false",
            "lfparameter": ".85",
            "simTimeout": "3500",
            "simCorrectProb": "0.85",
            "speechAPIKey": "",
            "textToSpeechAPIKey": "",
            "audioInputEnabled": "true",
            "audioInputSensitivity": "15",
            "speechIgnoreOutOfGrammarResponses": "false",
            "speechOutOfGrammarFeedback": "Please try again",
            "enableAudioPromptAndFeedback": "true",
            "audioPromptSpeakingRate": "1",
            "prestimulusDisplay": "Prestimulus Display Text"
        },
        "unit": [
            {
                "unitinstructions": "Here comes the test assessment session",
                "unitname": "Schedule Unit",
                "buttontrial": "true",
                "deliveryparams": {
                    "feedbackType": "simple",
                    "allowFeedbackTypeSelect": "true",
                    "practiceseconds": "1000000",
                    "drill": "5000",
                    "skipstudy": "false",
                    "purestudy": "5000",
                    "reviewstudy": "5000",
                    "correctprompt": "500",
                    "fontsize": "2",
                    "correctscore": "0",
                    "incorrectscore": "0",
                    "numButtonListImageColumns": "3"
                },
                "assessmentsession": {
                    "conditiontemplatesbygroup": {
                        "groupnames": "A",
                        "clustersrepeated": "1",
                        "templatesrepeated": "2",
                        "group": "0,t,t,0 0,t,t,0"
                    },
                    "initialpositions": "A_1 A_2",
                    "randomizegroups": "false",
                    "clusterlist": "1-2",
                    "assignrandomclusters": "false"
                }
            },
            {
                "unitinstructions": "Here comes the testing learning session.",
                "unitname": "Model Unit",
                "learningsession": {
                    "clusterlist": "1-1",
                    "calculateProbability": "\n    p.hintLevel = \"3\";      function mul(m1, m2) {\n            var result = 0;\n            var len = m1.length;\n            for (var i = 0; i < len; i++) {\n                result += m1[i] * m2[i]\n            }\n            return result\n          }\n          function logitdec(outcomes, decay) {\n            if (outcomes) {\n                var outcomessuc = JSON.parse(JSON.stringify(outcomes));\n                var outcomesfail = outcomes.map(function(value) {\n                    return Math.abs(value - 1)\n                });\n                var w = outcomessuc.unshift(1);\n                var v = outcomesfail.unshift(1);\n                return Math.log(mul(outcomessuc, [...Array(w).keys()].reverse().map(function(value, index) {\n                    return Math.pow(decay, value)\n                })) / mul(outcomesfail, [...Array(w).keys()].reverse().map(function(value, index) {\n                    return Math.pow(decay, value)\n                })))\n            }\n            return 0\n          }\n          function recency(age, d) {\n          if (age==0) { return 0;\n          } else\n            {return Math.pow(1 + age, -d);\n            }\n          }\n          function quaddiffcor(seq, probs) {\n            return mul(seq, probs.map(function(value) {\n                return value * value\n            }))\n          }\n          function linediffcor(seq, probs) {\n            return mul(seq, probs)\n          }\n          function linediffincor(seq, probs) {\n            return mul(seq.map(function(value) {\n                return Math.abs(value - 1)\n            }), probs)\n          }\n          var numTotalSyllables = p.syllables;\n          p.hintsylls = [];\n          var numHiddenSyllables = p.stimIndex % 2 == 0 ? 1 : 2;\n          if(numHiddenSyllables > numTotalSyllables){\n              numHiddenSyllables = numTotalSyllables;\n          }\n          for(var i=0;i<numTotalSyllables-numHiddenSyllables;i++){\n              p.hintsylls.push(i);\n          }\n          \n          p.y = -0.72159+\n          .58150 * logitdec(\n              p.overallOutcomeHistory.slice(p.overallOutcomeHistory.length-60,\n              p.overallOutcomeHistory.length), .97) +\n          .54467 * logitdec(p.responseOutcomeHistory, .79) +\n          9.67995 * recency(p.stimSecsSinceLastShown, .35)+\n          1.85143  * linediffcor(p.stimOutcomeHistory, p.stimPreviousCalculatedProbabilities) +\n          -1.96012 * quaddiffcor(p.stimOutcomeHistory, p.stimPreviousCalculatedProbabilities) +\n          -0.27823 * linediffincor(p.stimOutcomeHistory, p.stimPreviousCalculatedProbabilities);\n          p.probability = 1.0 / (1.0 + Math.exp(-p.y));\n        // console.log(p.overallOutcomeHistory+\" - \"+p.responseOutcomeHistory +\" - \"+p.stimSecsSinceLastShown+\" - \"+p.stimOutcomeHistory+\" - \"+p.stimPreviousCalculatedProbabilities);\n          return p\n             "
                },
                "buttontrial": "false",
                "buttonorder": "random",
                "deliveryparams": {
                    "feedbackType": "dialogue",
                    "forceCorrection": "false",
                    "practiceseconds": "1000000",
                    "drill": "20000",
                    "purestudy": "20000",
                    "skipstudy": "false",
                    "reviewstudy": "5000",
                    "correctprompt": "500",
                    "fontsize": "2",
                    "correctscore": "1",
                    "incorrectscore": "0",
                    "falseAnswerLimit": "3",
                    "timeuntilaudio": "500",
                    "timeuntilaudiofeedback": "500",
                    "autostopTranscriptionAttemptLimit": "4",
                    "prestimulusdisplaytime": "500"
                }
            },
            {
                "unitname": "last",
                "unitinstructions": "You are all done."
            }
        ]
    }
}