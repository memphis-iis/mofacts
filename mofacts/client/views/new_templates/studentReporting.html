<template name="studentReporting">
  <div class="allContent">
    <div class="row">    
      {{#if studentReportingTdfs}}
             <select id="tdf-select" class="width-80-percent">
             <option value="{{INVALID}}">Select a lesson</option>
            <!-- <option value="xml">All</option> -->
            {{#each studentReportingTdfs}}
              <option value="{{this.TDFId}}">{{this.displayName}}</option>
            {{/each}}
            </select>
      {{/if}}
      </div>
      <div class="row full-width">
            {{#if lastTdf}}
              {{#if selectedTdf}}
                {{#if tooFewStims}}
                <div class="alert">
                  <div class="alert-icon">
                    <i class="fa fa-info-circle" aria-hidden="true"></i>
                  </div>
                    We do not have enough data to
                    give a full report.  You have completed {{stimsSeen}} questions. Please complete at least 30 questions.
                  </div>
                {{/if}}
              {{else}}
              <div class="alert">
                <div class="alert-icon">
                  <i class="fa fa-info-circle" aria-hidden="true"></i>
                </div>
                  Please choose a Lesson in the dropdown above to see your progress.
                </div>
              {{/if}}
            {{else}}
            <div class="alert">
              <div class="alert-icon">
                <i class="fa fa-info-circle" aria-hidden="true"></i>
              </div>
                You have not started using the system.  Once you
                have completed 30 questions on a lesson, we will
                have a full report of your progress.
              </div>
            {{/if}}
      </div> 
      {{#if noTime}}
        <div class="vh-30"></div>
        <button id="go-to-lesson-select" class="btn btn-primary">Select a Lesson</button>
      {{else}}
      <div class="vh-30"></div>
      <button id="go-to-lesson-continue" class="btn  tdfButton" type="button" name="{{selectedTdf.name}}"
      data-tdfid="{{selectedTdf.tdfid}}"
      data-lessonname="{{selectedTdf.name}}"
      data-currentStimuliSetId="{{selectedTdf.currentStimuliSetId}}"
      data-ignoreOutOfGrammarResponses="{{selectedTdf.ignoreOutOfGrammarResponses}}"
      data-speechOutOfGrammarFeedback="{{selectedTdf.speechOutOfGrammarFeedback}}"
      data-isMultiTdf="{{selectedTdf.isMultiTdf}}">Continue {{selectedTdf.lessonName}}
      {{#if selectedTdf.enableAudioPromptAndFeedback}}
          <span class="fa fa-headphones"></span>
      {{/if}}
      {{#if selectedTdf.audioInputEnabled}}
          <span class="fa fa-microphone"></span>
      {{/if}}
      </button>
    {{/if}}
      <div class="row">
        <div id="dashboardGauges" hidden>
          <div class="row" style="padding-top:20px;">   
            <div class="gauge col-sm-6 col-xs-12">
              <p>Mastered Items</p>   
              <div id="preview-textfield-custom" style="top:80px; position: relative; font-size: small;"><b>{{stimsSeen}} of {{stimCount}}</b></div>  
              <canvas class="dashCanvas masteredItems" width="100" height="100" id="canvas-unit-item-progress"></canvas>
            </div>
            <div class="gauge col-sm-6 col-xs-12">
              <p>Speed of Learning</p>      
                <div id="preview-textfield-custom" style="top:80px; position: relative;"></div>  
                <div class="row" style="margin:auto; max-width:250px;">
                  <div class="col-xs-6">
                    <p>Low</p>
                  </div>
                  <div class="col-xs-6">
                    <p>High</p>
                  </div>
                </div>
                <canvas class="dashCanvas learningSpeed" width="150" height="100" id="canvas-unit-percent-correct"></canvas>
                {{#if displayItemsMasteredPerMinute}}
                  <p>Items mastered per minute for the last 30 practices: {{itemMasteryRate}}</p>
                {{/if}}
                {{#if displayEstimatedMasteryTime}}
                  <p>Estimated time to master all items: {{itemMasteryTime}} minutes.</p>
                {{/if}}
            </div>
          </div>
          <div class="row text-center">
            <div class="gauge col-sm-12 col-xs-12">
              <p>Difficulty</p>    
              <canvas class="dashCanvas difficulty" width="250" height="100" id="canvas-ai-new-card-prediction"></canvas>
              <div id="preview-textfield" style="display:none;">0%</div>  
              <div class="row" style="margin:auto; max-width:250px;">
                <div class="col-xs-6">
                  <p data-toggle="tooltip"  style="font-size: small;" title="MoFaCTs thinks its choices have been too hard for optimal learning and will be trying to make it easier than before, you might try studying the feedback more carefully.">Too Hard
                  (Hover over this for more info)</p>
                </div>
                <div class="col-xs-6">
                  <p data-toggle="tooltip"  style="font-size: small;" title="MoFaCTs thinks its choices have been too easy for optimal learning and will be trying to make it harder. Sit tight, and the system will introduce more items to pick up the pace.">Too Easy
                  <br>
                  (Hover over this for more info)</p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
  </div>
</template>
