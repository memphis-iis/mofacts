<template name="studentReporting">
  <div class="container" style="margin-top: 1rem;">
    <h3 style="margin-top: 0; text-align: center;">Student Progress</h3>

    {{#if studentReportingTdfs.length}}
      <table class="table table-striped table-hover mt-4">
        <thead>
          <tr>
            <th>Lesson</th>
            <th>Total Trials</th>
            <th>Overall Accuracy</th>
            <th>Last 10 Accuracy</th>
            <th>Time (min)</th>
            <th>Items Practiced</th>
            <th>Days with Sessions</th>
            <th>Last Practice</th>
            <th>Action</th>
          </tr>
        </thead>
        <tbody>
          {{#each tdfStats}}
            <tr>
              <td><strong>{{this.displayName}}</strong></td>
              <td>{{this.totalTrials}}</td>
              <td>{{this.overallAccuracy}}%</td>
              <td>{{this.last10Accuracy}}%</td>
              <td>{{this.totalTimeMinutes}}</td>
              <td>{{this.itemsPracticed}}</td>
              <td>{{this.totalSessions}}</td>
              <td>{{this.lastPracticeDate}}</td>
              <td class="text-center">
                <button class="btn btn-sm btn-primary continue-lesson" data-tdfid="{{this.TDFId}}" data-lessonname="{{this.displayName}}" data-currentstimulisetid="{{this.currentStimuliSetId}}" data-ismultitdf="{{this.isMultiTdf}}">Continue</button>
              </td>
            </tr>
          {{/each}}
        </tbody>
      </table>
    {{else}}
      <div class="alert alert-info text-center mt-4">
        <p>No practice history found. Start practicing to see your progress here!</p>
        <button id="go-to-lesson-select" class="btn btn-primary">Select a Lesson</button>
      </div>
    {{/if}}
  </div>
</template>
