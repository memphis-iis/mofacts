<!-- MAIN profile template -->
<template name="profile">

    <div class="container" style="margin-top: 1rem;">

        {{#if isImpersonating}}
        <div class='text-center alert alert-warning'>
                Impersonation Mode. Nothing will be logged. Log out to reset.
        </div>
        {{/if}}

        {{#if isInRole 'admin,teacher'}}

        <h3 style="margin-top: 0; text-align: center;">Admin / Teacher Menu</h3>

        <div id="adminButtonContainer" class="row justify-content-center g-3 page-loading" style="max-width: 900px; margin: 0 auto;">

            <!-- Teacher-only buttons (visible to teachers and both roles) -->
            {{#if isInRole 'teacher'}}
            <div class="col-12"><hr class="profile-separator" data-label="Teacher Functions"></div>

            <div class="col-lg-3 col-md-4 col-sm-6 col-12">
                <button type="button" id="instructorReportingButton" class="btn btn-fixed btn-role-teacher mx-auto d-block">Instructor Reporting</button>
            </div>

            <div class="col-lg-3 col-md-4 col-sm-6 col-12">
                <button type="button" id="classEditButton" class="btn btn-fixed btn-role-teacher mx-auto d-block">Class Management</button>
            </div>

            <div class="col-lg-3 col-md-4 col-sm-6 col-12">
                <button type="button" id="tdfAssignmentEditButton" class="btn btn-fixed btn-role-teacher mx-auto d-block">Chapter Assignments</button>
            </div>
            {{/if}}

            <!-- Admin-only buttons (visible to admins and both roles) -->
            {{#if isInRole 'admin'}}
            <div class="col-12"><hr class="profile-separator" data-label="Admin Functions"></div>
            <div class="col-lg-3 col-md-4 col-sm-6 col-12">
                <button id="adminControlsBtn" class="btn btn-fixed btn-role-admin mx-auto d-block" type="button">Admin Control Panel</button>
            </div>

            <div class="col-lg-3 col-md-4 col-sm-6 col-12">
                <button type="button" id="userAdminButton" class="btn btn-fixed btn-role-admin mx-auto d-block">User Admin</button>
            </div>

            <div class="col-lg-3 col-md-4 col-sm-6 col-12">
                <button type="button" id="mechTurkButton" class="btn btn-fixed btn-role-admin mx-auto d-block">Mechanical Turk</button>
            </div>
            {{/if}}

            <!-- Shared buttons (visible to all admin/teacher users) -->
            <div class="col-12"><hr class="profile-separator" data-label="General Functions"></div>

            <div class="col-lg-3 col-md-4 col-sm-6 col-12">
                <button type="button" id="contentUploadButton" class="btn btn-fixed btn-role-shared mx-auto d-block">Content Management</button>
            </div>

            <div class="col-lg-3 col-md-4 col-sm-6 col-12">
                <button type="button" id="dataDownloadButton" class="btn btn-fixed btn-role-shared mx-auto d-block">Download User Log Data</button>
            </div>

            <div class="col-lg-3 col-md-4 col-sm-6 col-12">
                <a href="https://github.com/memphis-iis/mofacts/wiki" target="_blank" class="btn btn-fixed btn-role-shared mx-auto d-block" role="button">Wiki</a>
            </div>

            {{#if contentGenerationAvailable}}
            <div class="col-lg-3 col-md-4 col-sm-6 col-12">
                <button type="button" id="contentGenerationButton" class="btn btn-fixed btn-role-shared mx-auto d-block">Content Generation</button>
            </div>
            {{/if}}

        </div>
        {{/if}}

    </div>
</template>
